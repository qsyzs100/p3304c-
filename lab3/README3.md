## lab3/README3.md
Проекты лабораторных работ

· Диcциnлинa: "сиcтемы ввoдa/вывoдa"·

## BЫПОЛHИЛИ

· Цяо Шанюй. P3304C

## ЛабораторнаЯ работa 2

Цель работы: получить знания и навыки разработки драйверов сетевых интерфейсов для операционной системы Linux.

## ЗаданиЯ по вариантам

Пакеты протокола UDP, адресуемые на конкретный порт. Вывести порт отправителя и получателя. Номер порта определяется 
исполнителями.
Состояние разбора пакетов необходимо выводить в файл в директории /proc

## Описание функциональности драйвера

При загрузке драйвер создает сетевой интерфейс vni0, который наследует настройки от интерфейса lo.

Помимо этого он создает файл /proc/var1 с правами на чтение.

Captured ICMP package
Type: 8
Code: 0
При чтении файла /proc/var1 выводится информация о количестве обработанных и отброшенных пакетов:

Processed: 2; Dropped: 2
Где Processed: количество пакетов, которые подошли по условию; Dropped: количество пакетов, которые были отброшены.

## Инструкция по сборке

Выполнить команду sudo make

## Инструкция пользователя

Для загрузки модуля выполнить команду sudo insmod virt_net_if.ko

Для проверки кольцевого буфера в отдельном окне консоли выполнить команду: dmesg -w

Для проверки содержимого служебного файла: cat /proc/var5

Для удаления модуля: sudo rmmod virt_net_if

## Примеры использования

Для того, чтобы драйвер начал работать, необходимо обеспечить трафик на интерфейсе lo, имеющем адрес 127.0.0.1.

Воспользуемся для этого командой ping. После загрузки модуля необходимо выполнить:

ping 127.0.0.1

